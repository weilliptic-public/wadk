enum Step{
    A,
    B,
    C,
    D,
    E
}

enum RunStatus {
    Continue(option<Step>),
    Failed,
    Pending,
    Done
}

record PromptPlan {
    prompts: dict<string, string> // serialized step -> prompt
}

enum Model{
    QWEN_235B,
    GPT_5POINT1,
    CLAUDE_SONNET
}

record ExecutionContext {
    step: option<Step>,
    answers: list<string>,
    prompt_plan: PromptPlan,
    model: Model
}

@pausable
interface StepAgent {
    query func run(namespace: string, flow_id: string, execution_context: ExecutionContext) -> tuple<RunStatus, ExecutionContext>;
    query func resume(namespace: string, flow_id: string) -> tuple<RunStatus, ExecutionContext>
}